<script setup>

import { nextTick, onMounted } from 'vue';
import '@n8n/chat/style.css';
import { createChat } from '@n8n/chat';


onMounted(async() => {
  //await nextTick(); //espera a que vue termine de renderizar

  //asegura que los estilos se agregen despues crear el chat
  setTimeout(() => {

    document.querySelector('#n8n-chat')?.setAttribute("style", "background-color: red;");

  }, 500); //espera para asegurar que el chat ya se ha cargado
  
  createChat({
    
    webhookUrl: 'http://localhost:5678/tu--webhook--chat',
    defaultLanguage: 'es',
    initialMessages: ['Â¡Hola! Soy tu asistente digital. Â¿En quÃ© puedo ayudarte hoy?'],
    target: '#n8n-chat',
    mode: 'fullscreen', //window
    showWelcomeScreen: false,
    i18n : {
      es : {
        title: 'Â¡Hola! ðŸ‘‹ Bienvenido/a' ,
        subtitle : 'Mi trabajo es brindarte informaciÃ³n precisa Â¡PregÃºntame lo que necesites!',
        footer: '',
        getStarted : 'Nueva Conversacion',
        inputPlaceholder : 'Escribe tu pregunta'
    }
  }
  });
});

</script>

<template>

</template>

<style scoped>

</style>